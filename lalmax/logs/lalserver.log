2023/04/04 21:05:39.461708 [22;36m INFO [0minitial log succ. - config.go:242
2023/04/04 21:05:39.461793 [22;36m INFO [0m
    __    ___    __
   / /   /   |  / /
  / /   / /| | / /
 / /___/ ___ |/ /___
/_____/_/  |_/_____/
 - config.go:245
2023/04/04 21:05:39.461816 [22;33m WARN [0mconfig version invalid. conf version of lalserver=v0.4.0, conf version of config file=v0.4.1 - config.go:255
2023/04/04 21:05:39.462321 [22;36m INFO [0mload conf succ. raw content={ "# doc of config": "https://pengrl.com/lal/#/ConfigBrief", "conf_version": "v0.4.1", "rtmp": { "enable": true, "addr": ":1935", "rtmps_enable": true, "rtmps_addr": ":4935", "rtmps_cert_file": "./conf/cert.pem", "rtmps_key_file": "./conf/key.pem", "gop_num": 0, "single_gop_max_frame_num": 0, "merge_write_size": 0 }, "in_session": { "add_dummy_audio_enable": false, "add_dummy_audio_wait_audio_ms": 150 }, "default_http": { "http_listen_addr": ":8080", "https_listen_addr": ":4433", "https_cert_file": "./conf/cert.pem", "https_key_file": "./conf/key.pem" }, "httpflv": { "enable": true, "enable_https": true, "url_pattern": "/", "gop_num": 0, "single_gop_max_frame_num": 0 }, "hls": { "enable": true, "enable_https": true, "url_pattern": "/hls/", "out_path": "./lal_record/hls/", "fragment_duration_ms": 3000, "fragment_num": 6, "delete_threshold": 6, "cleanup_mode": 1, "use_memory_as_disk_flag": false, "sub_session_timeout_ms": 30000, "sub_session_hash_key": "" }, "httpts": { "enable": true, "enable_https": true, "url_pattern": "/", "gop_num": 0, "single_gop_max_frame_num": 0 }, "rtsp": { "enable": true, "addr": ":5544", "rtsps_enable": true, "rtsps_addr": ":5322", "rtsps_cert_file": "./conf/cert.pem", "rtsps_key_file": "./conf/key.pem", "out_wait_key_frame_flag": true, "auth_enable": false, "auth_method": 1, "username": "q191201771", "password": "pengrl" }, "record": { "enable_flv": false, "flv_out_path": "./lal_record/flv/", "enable_mpegts": false, "mpegts_out_path": "./lal_record/mpegts" }, "relay_push": { "enable": false, "addr_list":[ ] }, "static_relay_pull": { "enable": false, "addr": "" }, "http_api": { "enable": true, "addr": ":8083" }, "server_id": "1", "http_notify": { "enable": false, "update_interval_sec": 5, "on_update": "http://127.0.0.1:10101/on_update", "on_pub_start": "http://127.0.0.1:10101/on_pub_start", "on_pub_stop": "http://127.0.0.1:10101/on_pub_stop", "on_sub_start": "http://127.0.0.1:10101/on_sub_start", "on_sub_stop": "http://127.0.0.1:10101/on_sub_stop", "on_relay_pull_start": "http://127.0.0.1:10101/on_relay_pull_start", "on_relay_pull_stop": "http://127.0.0.1:10101/on_relay_pull_stop", "on_rtmp_connect": "http://127.0.0.1:10101/on_rtmp_connect", "on_server_start": "http://127.0.0.1:10101/on_server_start", "on_hls_make_ts": "http://127.0.0.1:10101/on_hls_make_ts" }, "simple_auth": { "key": "q191201771", "dangerous_lal_secret": "pengrl", "pub_rtmp_enable": false, "sub_rtmp_enable": false, "sub_httpflv_enable": false, "sub_httpts_enable": false, "pub_rtsp_enable": false, "sub_rtsp_enable": false, "hls_m3u8_enable": false }, "pprof": { "enable": true, "addr": ":8084" }, "log": { "level": 1, "filename": "./logs/lalserver.log", "is_to_stdout": true, "is_rotate_daily": true, "short_file_flag": true, "timestamp_flag": true, "timestamp_with_ms_flag": true, "level_flag": true, "assert_behavior": 1 }, "debug": { "log_group_interval_sec": 30, "log_group_max_group_num": 10, "log_group_max_sub_num_per_group": 10 } }  parsed=&{ConfVersion:v0.4.1 RtmpConfig:{Enable:true Addr::1935 RtmpsEnable:true RtmpsAddr::4935 RtmpsCertFile:./conf/cert.pem RtmpsKeyFile:./conf/key.pem GopNum:0 MergeWriteSize:0} InSessionConfig:{AddDummyAudioEnable:false AddDummyAudioWaitAudioMs:150} DefaultHttpConfig:{CommonHttpAddrConfig:{HttpListenAddr::8080 HttpsListenAddr::4433 HttpsCertFile:./conf/cert.pem HttpsKeyFile:./conf/key.pem}} HttpflvConfig:{CommonHttpServerConfig:{CommonHttpAddrConfig:{HttpListenAddr::8080 HttpsListenAddr::4433 HttpsCertFile:./conf/cert.pem HttpsKeyFile:./conf/key.pem} Enable:true EnableHttps:true UrlPattern:/} GopNum:0} HlsConfig:{CommonHttpServerConfig:{CommonHttpAddrConfig:{HttpListenAddr::8080 HttpsListenAddr::4433 HttpsCertFile:./conf/cert.pem HttpsKeyFile:./conf/key.pem} Enable:true EnableHttps:true UrlPattern:/hls/} UseMemoryAsDiskFlag:false MuxerConfig:{OutPath:./lal_record/hls/ FragmentDurationMs:3000 FragmentNum:6 DeleteThreshold:6 CleanupMode:1}} HttptsConfig:{CommonHttpServerConfig:{CommonHttpAddrConfig:{HttpListenAddr::8080 HttpsListenAddr::4433 HttpsCertFile:./conf/cert.pem HttpsKeyFile:./conf/key.pem} Enable:true EnableHttps:true UrlPattern:/} GopNum:0} RtspConfig:{Enable:true Addr::5544 RtspsEnable:true RtspsAddr::5322 RtspsCertFile:./conf/cert.pem RtspsKeyFile:./conf/key.pem OutWaitKeyFrameFlag:true ServerAuthConfig:{AuthEnable:false AuthMethod:1 UserName:q191201771 PassWord:pengrl}} RecordConfig:{EnableFlv:false FlvOutPath:./lal_record/flv/ EnableMpegts:false MpegtsOutPath:./lal_record/mpegts} RelayPushConfig:{Enable:false AddrList:[]} StaticRelayPullConfig:{Enable:false Addr:} HttpApiConfig:{Enable:true Addr::8083} ServerId:1 HttpNotifyConfig:{Enable:false UpdateIntervalSec:5 OnServerStart:http://127.0.0.1:10101/on_server_start OnUpdate:http://127.0.0.1:10101/on_update OnPubStart:http://127.0.0.1:10101/on_pub_start OnPubStop:http://127.0.0.1:10101/on_pub_stop OnSubStart:http://127.0.0.1:10101/on_sub_start OnSubStop:http://127.0.0.1:10101/on_sub_stop OnRelayPullStart:http://127.0.0.1:10101/on_relay_pull_start OnRelayPullStop:http://127.0.0.1:10101/on_relay_pull_stop OnRtmpConnect:http://127.0.0.1:10101/on_rtmp_connect OnHlsMakeTs:http://127.0.0.1:10101/on_hls_make_ts} SimpleAuthConfig:{Key:q191201771 DangerousLalSecret:pengrl PubRtmpEnable:false SubRtmpEnable:false SubHttpflvEnable:false SubHttptsEnable:false PubRtspEnable:false SubRtspEnable:false HlsM3u8Enable:false} PprofConfig:{Enable:true Addr::8084} LogConfig:{Level:1 Filename:./logs/lalserver.log IsToStdout:true IsRotateDaily:true ShortFileFlag:true TimestampFlag:true TimestampWithMsFlag:true LevelFlag:true AssertBehavior:1} DebugConfig:{LogGroupIntervalSec:30 LogGroupMaxGroupNum:10 LogGroupMaxSubNumPerGroup:10}} - config.go:333
2023/04/04 21:05:39.466979 [22;36m INFO [0m     start: 2023-04-04 21:05:39.46 - base.go:35
2023/04/04 21:05:39.467047 [22;36m INFO [0m        wd: /Users/zangshouchi/work/gitwork/lalext/lalmax - base.go:36
2023/04/04 21:05:39.467058 [22;36m INFO [0m      args: ./main -c conf/lalserver.conf.json - base.go:37
2023/04/04 21:05:39.467067 [22;36m INFO [0m   bininfo: GitTag=unknown. GitCommitLog=unknown. GitStatus=unknown. BuildTime=unknown. GoVersion=unknown. runtime=darwin/amd64. - base.go:38
2023/04/04 21:05:39.467074 [22;36m INFO [0m   version: lal v0.32.0 (github.com/q191201771/lal) - base.go:39
2023/04/04 21:05:39.467081 [22;36m INFO [0m    github: https://github.com/q191201771/lal - base.go:40
2023/04/04 21:05:39.467088 [22;36m INFO [0m       doc: https://pengrl.com/lal - base.go:41
2023/04/04 21:05:39.467362 [22;36m INFO [0mstart web pprof listen. addr=:8084 - server_manager__.go:166
2023/04/04 21:05:39.467408 [22;36m INFO [0madd http listen for httpflv. addr=:8080, pattern=/ - server_manager__.go:188
2023/04/04 21:05:39.468514 [22;36m INFO [0madd https listen for httpflv. addr=:4433, pattern=/ - server_manager__.go:199
2023/04/04 21:05:39.468557 [22;36m INFO [0madd http listen for httpts. addr=:8080, pattern=/ - server_manager__.go:188
2023/04/04 21:05:39.468584 [22;36m INFO [0madd https listen for httpts. addr=:4433, pattern=/ - server_manager__.go:199
2023/04/04 21:05:39.468595 [22;36m INFO [0madd http listen for hls. addr=:8080, pattern=/hls/ - server_manager__.go:188
2023/04/04 21:05:39.468604 [22;36m INFO [0madd https listen for hls. addr=:4433, pattern=/hls/ - server_manager__.go:199
2023/04/04 21:05:39.469409 [22;36m INFO [0mstart rtmp server listen. addr=:1935 - server.go:56
2023/04/04 21:05:39.470249 [22;36m INFO [0mstart rtmps server listen. addr=:4935 - server.go:71
2023/04/04 21:05:39.470296 [22;36m INFO [0mstart rtsp server listen. addr=:5544 - server.go:81
2023/04/04 21:05:39.470730 [22;36m INFO [0mstart rtsps server listen. addr=:5322 - server.go:95
2023/04/04 21:05:39.471066 [22;36m INFO [0mstart http-api server listen. addr=:8083 - http_api.go:41
2023/04/04 21:14:05.580145 [22;36m INFO [0minitial log succ. - config.go:242
2023/04/04 21:14:05.580498 [22;36m INFO [0m
    __    ___    __
   / /   /   |  / /
  / /   / /| | / /
 / /___/ ___ |/ /___
/_____/_/  |_/_____/
 - config.go:245
2023/04/04 21:14:05.580529 [22;33m WARN [0mconfig version invalid. conf version of lalserver=v0.4.0, conf version of config file=v0.4.1 - config.go:255
2023/04/04 21:14:05.580814 [22;36m INFO [0mload conf succ. raw content={ "# doc of config": "https://pengrl.com/lal/#/ConfigBrief", "conf_version": "v0.4.1", "rtmp": { "enable": true, "addr": ":1935", "rtmps_enable": true, "rtmps_addr": ":4935", "rtmps_cert_file": "./conf/cert.pem", "rtmps_key_file": "./conf/key.pem", "gop_num": 0, "single_gop_max_frame_num": 0, "merge_write_size": 0 }, "in_session": { "add_dummy_audio_enable": false, "add_dummy_audio_wait_audio_ms": 150 }, "default_http": { "http_listen_addr": ":8080", "https_listen_addr": ":4433", "https_cert_file": "./conf/cert.pem", "https_key_file": "./conf/key.pem" }, "httpflv": { "enable": true, "enable_https": true, "url_pattern": "/", "gop_num": 0, "single_gop_max_frame_num": 0 }, "hls": { "enable": true, "enable_https": true, "url_pattern": "/hls/", "out_path": "./lal_record/hls/", "fragment_duration_ms": 3000, "fragment_num": 6, "delete_threshold": 6, "cleanup_mode": 1, "use_memory_as_disk_flag": false, "sub_session_timeout_ms": 30000, "sub_session_hash_key": "" }, "httpts": { "enable": true, "enable_https": true, "url_pattern": "/", "gop_num": 0, "single_gop_max_frame_num": 0 }, "rtsp": { "enable": true, "addr": ":5544", "rtsps_enable": true, "rtsps_addr": ":5322", "rtsps_cert_file": "./conf/cert.pem", "rtsps_key_file": "./conf/key.pem", "out_wait_key_frame_flag": true, "auth_enable": false, "auth_method": 1, "username": "q191201771", "password": "pengrl" }, "record": { "enable_flv": false, "flv_out_path": "./lal_record/flv/", "enable_mpegts": false, "mpegts_out_path": "./lal_record/mpegts" }, "relay_push": { "enable": false, "addr_list":[ ] }, "static_relay_pull": { "enable": false, "addr": "" }, "http_api": { "enable": true, "addr": ":8083" }, "server_id": "1", "http_notify": { "enable": false, "update_interval_sec": 5, "on_update": "http://127.0.0.1:10101/on_update", "on_pub_start": "http://127.0.0.1:10101/on_pub_start", "on_pub_stop": "http://127.0.0.1:10101/on_pub_stop", "on_sub_start": "http://127.0.0.1:10101/on_sub_start", "on_sub_stop": "http://127.0.0.1:10101/on_sub_stop", "on_relay_pull_start": "http://127.0.0.1:10101/on_relay_pull_start", "on_relay_pull_stop": "http://127.0.0.1:10101/on_relay_pull_stop", "on_rtmp_connect": "http://127.0.0.1:10101/on_rtmp_connect", "on_server_start": "http://127.0.0.1:10101/on_server_start", "on_hls_make_ts": "http://127.0.0.1:10101/on_hls_make_ts" }, "simple_auth": { "key": "q191201771", "dangerous_lal_secret": "pengrl", "pub_rtmp_enable": false, "sub_rtmp_enable": false, "sub_httpflv_enable": false, "sub_httpts_enable": false, "pub_rtsp_enable": false, "sub_rtsp_enable": false, "hls_m3u8_enable": false }, "pprof": { "enable": true, "addr": ":8084" }, "log": { "level": 1, "filename": "./logs/lalserver.log", "is_to_stdout": true, "is_rotate_daily": true, "short_file_flag": true, "timestamp_flag": true, "timestamp_with_ms_flag": true, "level_flag": true, "assert_behavior": 1 }, "debug": { "log_group_interval_sec": 30, "log_group_max_group_num": 10, "log_group_max_sub_num_per_group": 10 } }  parsed=&{ConfVersion:v0.4.1 RtmpConfig:{Enable:true Addr::1935 RtmpsEnable:true RtmpsAddr::4935 RtmpsCertFile:./conf/cert.pem RtmpsKeyFile:./conf/key.pem GopNum:0 MergeWriteSize:0} InSessionConfig:{AddDummyAudioEnable:false AddDummyAudioWaitAudioMs:150} DefaultHttpConfig:{CommonHttpAddrConfig:{HttpListenAddr::8080 HttpsListenAddr::4433 HttpsCertFile:./conf/cert.pem HttpsKeyFile:./conf/key.pem}} HttpflvConfig:{CommonHttpServerConfig:{CommonHttpAddrConfig:{HttpListenAddr::8080 HttpsListenAddr::4433 HttpsCertFile:./conf/cert.pem HttpsKeyFile:./conf/key.pem} Enable:true EnableHttps:true UrlPattern:/} GopNum:0} HlsConfig:{CommonHttpServerConfig:{CommonHttpAddrConfig:{HttpListenAddr::8080 HttpsListenAddr::4433 HttpsCertFile:./conf/cert.pem HttpsKeyFile:./conf/key.pem} Enable:true EnableHttps:true UrlPattern:/hls/} UseMemoryAsDiskFlag:false MuxerConfig:{OutPath:./lal_record/hls/ FragmentDurationMs:3000 FragmentNum:6 DeleteThreshold:6 CleanupMode:1}} HttptsConfig:{CommonHttpServerConfig:{CommonHttpAddrConfig:{HttpListenAddr::8080 HttpsListenAddr::4433 HttpsCertFile:./conf/cert.pem HttpsKeyFile:./conf/key.pem} Enable:true EnableHttps:true UrlPattern:/} GopNum:0} RtspConfig:{Enable:true Addr::5544 RtspsEnable:true RtspsAddr::5322 RtspsCertFile:./conf/cert.pem RtspsKeyFile:./conf/key.pem OutWaitKeyFrameFlag:true ServerAuthConfig:{AuthEnable:false AuthMethod:1 UserName:q191201771 PassWord:pengrl}} RecordConfig:{EnableFlv:false FlvOutPath:./lal_record/flv/ EnableMpegts:false MpegtsOutPath:./lal_record/mpegts} RelayPushConfig:{Enable:false AddrList:[]} StaticRelayPullConfig:{Enable:false Addr:} HttpApiConfig:{Enable:true Addr::8083} ServerId:1 HttpNotifyConfig:{Enable:false UpdateIntervalSec:5 OnServerStart:http://127.0.0.1:10101/on_server_start OnUpdate:http://127.0.0.1:10101/on_update OnPubStart:http://127.0.0.1:10101/on_pub_start OnPubStop:http://127.0.0.1:10101/on_pub_stop OnSubStart:http://127.0.0.1:10101/on_sub_start OnSubStop:http://127.0.0.1:10101/on_sub_stop OnRelayPullStart:http://127.0.0.1:10101/on_relay_pull_start OnRelayPullStop:http://127.0.0.1:10101/on_relay_pull_stop OnRtmpConnect:http://127.0.0.1:10101/on_rtmp_connect OnHlsMakeTs:http://127.0.0.1:10101/on_hls_make_ts} SimpleAuthConfig:{Key:q191201771 DangerousLalSecret:pengrl PubRtmpEnable:false SubRtmpEnable:false SubHttpflvEnable:false SubHttptsEnable:false PubRtspEnable:false SubRtspEnable:false HlsM3u8Enable:false} PprofConfig:{Enable:true Addr::8084} LogConfig:{Level:1 Filename:./logs/lalserver.log IsToStdout:true IsRotateDaily:true ShortFileFlag:true TimestampFlag:true TimestampWithMsFlag:true LevelFlag:true AssertBehavior:1} DebugConfig:{LogGroupIntervalSec:30 LogGroupMaxGroupNum:10 LogGroupMaxSubNumPerGroup:10}} - config.go:333
2023/04/04 21:14:05.582942 [22;36m INFO [0m     start: 2023-04-04 21:14:05.578 - base.go:35
2023/04/04 21:14:05.583010 [22;36m INFO [0m        wd: /Users/zangshouchi/work/gitwork/lalext/lalmax - base.go:36
2023/04/04 21:14:05.583020 [22;36m INFO [0m      args: ./lalmax -c conf/lalserver.conf.json - base.go:37
2023/04/04 21:14:05.583029 [22;36m INFO [0m   bininfo: GitTag=unknown. GitCommitLog=unknown. GitStatus=unknown. BuildTime=unknown. GoVersion=unknown. runtime=darwin/amd64. - base.go:38
2023/04/04 21:14:05.583036 [22;36m INFO [0m   version: lal v0.32.0 (github.com/q191201771/lal) - base.go:39
2023/04/04 21:14:05.583043 [22;36m INFO [0m    github: https://github.com/q191201771/lal - base.go:40
2023/04/04 21:14:05.583050 [22;36m INFO [0m       doc: https://pengrl.com/lal - base.go:41
2023/04/04 21:14:05.583320 [22;36m INFO [0madd http listen for httpflv. addr=:8080, pattern=/ - server_manager__.go:188
2023/04/04 21:14:05.583828 [22;36m INFO [0mstart web pprof listen. addr=:8084 - server_manager__.go:166
2023/04/04 21:14:05.584669 [22;36m INFO [0madd https listen for httpflv. addr=:4433, pattern=/ - server_manager__.go:199
2023/04/04 21:14:05.584804 [22;36m INFO [0madd http listen for httpts. addr=:8080, pattern=/ - server_manager__.go:188
2023/04/04 21:14:05.584822 [22;36m INFO [0madd https listen for httpts. addr=:4433, pattern=/ - server_manager__.go:199
2023/04/04 21:14:05.584832 [22;36m INFO [0madd http listen for hls. addr=:8080, pattern=/hls/ - server_manager__.go:188
2023/04/04 21:14:05.584840 [22;36m INFO [0madd https listen for hls. addr=:4433, pattern=/hls/ - server_manager__.go:199
2023/04/04 21:14:05.584921 [22;36m INFO [0mstart rtmp server listen. addr=:1935 - server.go:56
2023/04/04 21:14:05.585343 [22;36m INFO [0mstart rtmps server listen. addr=:4935 - server.go:71
2023/04/04 21:14:05.585383 [22;36m INFO [0mstart rtsp server listen. addr=:5544 - server.go:81
2023/04/04 21:14:05.585770 [22;36m INFO [0mstart rtsps server listen. addr=:5322 - server.go:95
2023/04/04 21:14:05.585805 [22;36m INFO [0mstart http-api server listen. addr=:8083 - http_api.go:41
